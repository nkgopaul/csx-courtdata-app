<div class="bar-container pt-5">
  <center>
    <h3>{{ title }}</h3>
  </center>
  <center>

    <canvas id="chart" class="m-0 p-0" width="1000" height="400"></canvas>
    <script>
      // bar chart data
      var barData = {
        labels : [
          {% for item in labels %}
           "{{ item }}",
          {% endfor %}
	      ],
        datasets : [{
            backgroundColor: "rgba(0,0,102,0.2)",
            data : [
              {% for item in data %}
                "{{ item }}",
              {% endfor %}
            ]
          }
        ]
      }
      var options = {
        responsive: false,
        legend: {
          display: false
        },
        scales: {
          xAxes: [{
            ticks: {
              autoSkip: false
            }
          }],
          yAxes: [{
            ticks: {
                beginAtZero: true
            }
        }]
        }
      }

      Chart.defaults.global.animation.duration = 1000

      var mychart = document.getElementById("chart");
      var proposed_width = barData.labels.length*50;
      proposed_width < 500 ? mychart.width = 500 : mychart.width;
      
      var barChart = new Chart(mychart.getContext("2d"), {
        type: 'bar',
        data: barData,
        options: options
      });
    </script>
  </center>
</div>